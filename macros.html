{% extends "base.html" %}{% block content %}
<h1>Macro splits</h1>
<div class="grid">
  <div class="card">
    <label>Daily calories (kcal)</label><input id="c" type="number" value="2000">
    <label>Goal</label>
    <select id="g">
      <option value="balanced">Balanced (30/40/30)</option>
      <option value="keto">Keto‑ish (20/5/75)</option>
      <option value="high_protein">High Protein (40/35/25)</option>
    </select>
    <div class="result" id="out"></div>
  </div>
  <div class="card">
    <h3>Breakdown</h3>
    <p class="small">Protein & carbs: 4 kcal/g; Fat: 9 kcal/g.</p>
    <p><a data-amazon-query="protein powder whey">Protein</a> · <a data-amazon-query="omega 3">Omega‑3</a> · <a data-amazon-query="kitchen scale">Kitchen scales</a></p>
  </div>
</div>
<script>
const C=document.getElementById('c'), G=document.getElementById('g'), out=document.getElementById('out');
function update(){
  const cal = parseFloat(C.value||0);
  let p=0.3,c=0.4,f=0.3;
  if(G.value==='keto'){ p=0.2;c=0.05;f=0.75; }
  if(G.value==='high_protein'){ p=0.4;c=0.35;f=0.25; }
  const gramsP = Math.round((cal*p)/4);
  const gramsC = Math.round((cal*c)/4);
  const gramsF = Math.round((cal*f)/9);
  out.textContent = `Protein: ${gramsP} g  |  Carbs: ${gramsC} g  |  Fat: ${gramsF} g`;
}
document.addEventListener('input', update); update();
</script>
{% endblock %}