{% extends "base.html" %}{% block content %}
<h1>BMR & TDEE</h1>
<div class="grid">
  <div class="card">
    <label>Sex</label><select id="s"><option value="m">Male</option><option value="f">Female</option></select>
    <label>Age</label><input id="a" type="number" value="30">
    <label>Height (cm)</label><input id="h" type="number" value="175">
    <label>Weight (kg)</label><input id="w" type="number" value="70">
    <label>Activity</label>
    <select id="act">
      <option value="1.2">Sedentary</option>
      <option value="1.375">Lightly active</option>
      <option value="1.55">Moderately active</option>
      <option value="1.725">Very active</option>
      <option value="1.9">Extra active</option>
    </select>
    <div class="result" id="out"></div>
  </div>
  <div class="card">
    <h3>Formulas</h3>
    <p class="small">Mifflin‑St Jeor: Male BMR = 10×kg + 6.25×cm − 5×age + 5; Female BMR = 10×kg + 6.25×cm − 5×age − 161. TDEE = BMR × activity.</p>
  </div>
</div>
<script>
const S=document.getElementById('s'), A=document.getElementById('a'), H=document.getElementById('h'), W=document.getElementById('w'), ACT=document.getElementById('act'), out=document.getElementById('out');
function update(){
  const s=S.value, age=parseFloat(A.value||0), h=parseFloat(H.value||0), w=parseFloat(W.value||0), act=parseFloat(ACT.value);
  let bmr = s==='m' ? (10*w + 6.25*h - 5*age + 5) : (10*w + 6.25*h - 5*age - 161);
  const tdee = bmr * act;
  out.textContent = 'BMR: ' + Math.round(bmr) + ' kcal/day | TDEE: ' + Math.round(tdee) + ' kcal/day';
}
document.addEventListener('input', update); update();
</script>
{% endblock %}